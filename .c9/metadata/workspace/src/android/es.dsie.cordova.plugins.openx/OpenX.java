{"filter":false,"title":"OpenX.java","tooltip":"/src/android/es.dsie.cordova.plugins.openx/OpenX.java","undoManager":{"mark":13,"position":13,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":43}},"text":"package es.dsie.cordova.plugins.mobpartner;"},{"action":"insertText","range":{"start":{"row":0,"column":43},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":110,"column":0}},"lines":["","import org.apache.cordova.CallbackContext;","import org.apache.cordova.CordovaInterface;","import org.apache.cordova.CordovaPlugin;","import org.apache.cordova.LinearLayoutSoftKeyboardDetect;","import org.json.JSONArray;","import org.json.JSONException;","","import android.util.Log;","","import com.mobpartner.android.publisher.views.MobPartnerAdBanner;","import com.mobpartner.android.publisher.views.MobPartnerAdInterstitial;","","public class MobPartnerPlugin extends CordovaPlugin {","\tprivate static final String LOGTAG = \"MobPartnerPlugin\";","\t","    private static final String ACTION_INIT = \"init\";","    private static final String ACTION_SHOW_BANNER = \"showBanner\";","    private static final String ACTION_SHOW_INTERSTITIAL = \"showInterstitial\";","    private static final String ACTION_HIDE_BANNER = \"hideBanner\";","    ","    private String poolId = \"\";","","    @Override","    public boolean execute(String action, JSONArray inputs, CallbackContext callbackContext) throws JSONException {","        if (ACTION_INIT.equals(action)) {","            //executeCreateBannerView(inputs, callbackContext);","            //executeInit(inputs,callbackContext);","            return true;","        } else if (ACTION_SHOW_BANNER.equals(action)) {","            //executeCreateInterstitialView(inputs, callbackContext);","            executeShowBanner(inputs,callbackContext);","            return true;","        } else if (ACTION_SHOW_INTERSTITIAL.equals(action)) {","        \texecuteShowInterstitial(inputs, callbackContext);","            //executeRequestAd(inputs, callbackContext);","            return true;","        } else if (ACTION_HIDE_BANNER.equals(action)) {","            //executeKillAd(callbackContext);","            return true;","        } else {","            Log.d(LOGTAG, String.format(\"Invalid action passed: %s\", action));","            callbackContext.error(\"Invalid Action\");","        }","        return false;","    }","","    private void executeShowBanner(JSONArray inputs, CallbackContext callbackContext) {","        // Get the input data.","        try {","            this.poolId = inputs.getString(0);","            final CordovaInterface cordova = this.cordova;","","    \t\t// Create the AdView on the UI thread.","    \t\tLog.w(LOGTAG, \"createBannerView\");","    \t\tRunnable runnable = new Runnable() {","    \t\t\tpublic void run() {","    \t\t\t\tLog.w(LOGTAG, \"ShowBanner:\" + poolId);","    \t\t\t\tLog.w(LOGTAG, String.valueOf(webView));","    \t\t\t\t\t","    \t\t\t\tLinearLayoutSoftKeyboardDetect parentView = (LinearLayoutSoftKeyboardDetect) webView.getParent();","    \t\t\t\tMobPartnerAdBanner banner = new MobPartnerAdBanner(webView.getContext(),poolId);","\t\t\t\t\tparentView.addView(banner);","    \t\t\t    banner.show();","    \t\t\t}","    \t\t};","    \t\tthis.cordova.getActivity().runOnUiThread(runnable);","        } catch (JSONException exception) {","            Log.w(LOGTAG,String.format(\"Got JSON Exception: %s\",exception.getMessage()));","            callbackContext.error(exception.getMessage());","        }","    }","    ","    private void executeShowInterstitial(JSONArray inputs, CallbackContext callbackContext) {","        // Get the input data.","        try {","            this.poolId = inputs.getString(0);","            final CordovaInterface cordova = this.cordova;","","    \t\t// Create the AdView on the UI thread.","    \t\tLog.w(LOGTAG, \"createInterstitialView\");","    \t\tRunnable runnable = new Runnable() {","    \t\t\tpublic void run() {","    \t\t\t\tLog.w(LOGTAG, \"ShowInterstitial:\" + poolId);","    \t\t\t\tLog.w(LOGTAG, String.valueOf(webView));","    \t\t\t\t\t","    \t\t\t\tMobPartnerAdInterstitial interstitial = new MobPartnerAdInterstitial(webView.getContext(),poolId);","    \t\t\t\tinterstitial.show();","    \t\t\t\t","    \t\t\t\t//MobPartnerMobStream  mobstream = new MobPartnerMobStream(webView.getContext(),poolId);","    \t\t\t\t//mobstream.show();","    \t\t\t\t","    \t\t\t\t//MobPartnerMobWall mobwall = new MobPartnerMobWall(webView.getContext(),poolId);","    \t\t\t\t//mobwall.show();","","    \t\t\t\t//MobPartnerMobWidget mobwidget = new MobPartnerMobWidget(webView.getContext(),poolId);","    \t\t\t\t//mobwidget.showAd();","    \t\t\t\t","    \t\t\t}","    \t\t};","    \t\tthis.cordova.getActivity().runOnUiThread(runnable);","        } catch (JSONException exception) {","            Log.w(LOGTAG,String.format(\"Got JSON Exception: %s\",exception.getMessage()));","            callbackContext.error(exception.getMessage());","        }","        ","    }","",""]},{"action":"insertText","range":{"start":{"row":110,"column":0},"end":{"row":110,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":32},"end":{"row":0,"column":42}},"text":"mobpartner"},{"action":"insertText","range":{"start":{"row":0,"column":32},"end":{"row":0,"column":33}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":33},"end":{"row":0,"column":34}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":34},"end":{"row":0,"column":35}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":35},"end":{"row":0,"column":36}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":36},"end":{"row":0,"column":37}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":13},"end":{"row":14,"column":23}},"text":"MobPartner"},{"action":"insertText","range":{"start":{"row":14,"column":13},"end":{"row":14,"column":14}},"text":"O"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":14},"end":{"row":14,"column":15}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":15},"end":{"row":14,"column":16}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":16},"end":{"row":14,"column":17}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":17},"end":{"row":14,"column":18}},"text":"X"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":11,"column":0},"end":{"row":12,"column":0}},"nl":"\n","lines":["import com.mobpartner.android.publisher.views.MobPartnerAdBanner;"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":11,"column":0},"end":{"row":12,"column":0}},"nl":"\n","lines":["import com.mobpartner.android.publisher.views.MobPartnerAdInterstitial;"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":39},"end":{"row":13,"column":55}},"text":"MobPartnerPlugin"},{"action":"insertText","range":{"start":{"row":13,"column":39},"end":{"row":13,"column":50}},"text":"OpenXPlugin"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":50},"end":{"row":13,"column":50},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":37,"state":"start","mode":"ace/mode/java"}},"timestamp":1405586645303,"hash":"7538fefa9ec547f7740d860484b744274f570a30"}